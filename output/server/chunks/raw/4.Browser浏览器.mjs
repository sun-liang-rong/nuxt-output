// ROLLUP_NO_REPLACE 
 const _4_Browser___ = "{\"parsed\":{\"_path\":\"/blog/browser\",\"_dir\":\"blog\",\"_draft\":false,\"_partial\":false,\"_locale\":\"\",\"_empty\":false,\"title\":\"浏览器事件循环\",\"description\":\"全称 浏览器事件循环\",\"date\":\"2023-08-02T22:57:29.000Z\",\"url\":null,\"en-title\":\"浏览器事件循环\",\"tags\":[\"浏览器\"],\"body\":{\"type\":\"root\",\"children\":[{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"全称 浏览器事件循环\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Table of Contents\"}]},{\"type\":\"text\",\"value\":\"  \"},{\"type\":\"element\",\"tag\":\"em\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"generated with \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/thlorenz/doctoc\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"DocToc\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#%E4%BA%8B%E4%BB%B6%E6%9C%BA%E5%88%B6\"},\"children\":[{\"type\":\"text\",\"value\":\"事件机制\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91%E4%B8%89%E9%98%B6%E6%AE%B5\"},\"children\":[{\"type\":\"text\",\"value\":\"事件触发三阶段\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6\"},\"children\":[{\"type\":\"text\",\"value\":\"注册事件\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#%E4%BA%8B%E4%BB%B6%E4%BB%A3%E7%90%86\"},\"children\":[{\"type\":\"text\",\"value\":\"事件代理\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#%E8%B7%A8%E5%9F%9F\"},\"children\":[{\"type\":\"text\",\"value\":\"跨域\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#jsonp\"},\"children\":[{\"type\":\"text\",\"value\":\"JSONP\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#cors\"},\"children\":[{\"type\":\"text\",\"value\":\"CORS\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#documentdomain\"},\"children\":[{\"type\":\"text\",\"value\":\"document.domain\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#postmessage\"},\"children\":[{\"type\":\"text\",\"value\":\"postMessage\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#event-loop\"},\"children\":[{\"type\":\"text\",\"value\":\"Event loop\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#node-%E4%B8%AD%E7%9A%84-event-loop\"},\"children\":[{\"type\":\"text\",\"value\":\"Node 中的 Event loop\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#timer\"},\"children\":[{\"type\":\"text\",\"value\":\"timer\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#io\"},\"children\":[{\"type\":\"text\",\"value\":\"I/O\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#idle-prepare\"},\"children\":[{\"type\":\"text\",\"value\":\"idle, prepare\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#poll\"},\"children\":[{\"type\":\"text\",\"value\":\"poll\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#check\"},\"children\":[{\"type\":\"text\",\"value\":\"check\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#close-callbacks\"},\"children\":[{\"type\":\"text\",\"value\":\"close callbacks\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#%E5%AD%98%E5%82%A8\"},\"children\":[{\"type\":\"text\",\"value\":\"存储\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#cookielocalstoragesessionstorageindexdb\"},\"children\":[{\"type\":\"text\",\"value\":\"cookie，localStorage，sessionStorage，indexDB\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#service-worker\"},\"children\":[{\"type\":\"text\",\"value\":\"Service Worker\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#%E6%B8%B2%E6%9F%93%E6%9C%BA%E5%88%B6\"},\"children\":[{\"type\":\"text\",\"value\":\"渲染机制\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#load-%E5%92%8C-domcontentloaded-%E5%8C%BA%E5%88%AB\"},\"children\":[{\"type\":\"text\",\"value\":\"Load 和 DOMContentLoaded 区别\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#%E5%9B%BE%E5%B1%82\"},\"children\":[{\"type\":\"text\",\"value\":\"图层\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#%E9%87%8D%E7%BB%98repaint%E5%92%8C%E5%9B%9E%E6%B5%81reflow\"},\"children\":[{\"type\":\"text\",\"value\":\"重绘（Repaint）和回流（Reflow）\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"#%E5%87%8F%E5%B0%91%E9%87%8D%E7%BB%98%E5%92%8C%E5%9B%9E%E6%B5%81\"},\"children\":[{\"type\":\"text\",\"value\":\"减少重绘和回流\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h1\",\"props\":{\"id\":\"事件机制\"},\"children\":[{\"type\":\"text\",\"value\":\"事件机制\"}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"事件触发三阶段\"},\"children\":[{\"type\":\"text\",\"value\":\"事件触发三阶段\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"事件触发有三个阶段\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"window\"}]},{\"type\":\"text\",\"value\":\" 往事件触发处传播，遇到注册的捕获事件会触发\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"传播到事件触发处时触发注册的事件\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"从事件触发处往 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"window\"}]},{\"type\":\"text\",\"value\":\" 传播，遇到注册的冒泡事件会触发\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"事件触发一般来说会按照上面的顺序进行，但是也有特例，如果给一个目标节点同时注册冒泡和捕获事件，事件触发会按照注册的顺序执行。\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-js\"],\"code\":\"// 以下会先打印冒泡然后是捕获\\nnode.addEventListener('click',(event) =>{\\n    console.log('冒泡')\\n},false);\\nnode.addEventListener('click',(event) =>{\\n    console.log('捕获 ')\\n},true)\\n\",\"language\":\"js\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 以下会先打印冒泡然后是捕获\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"node\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"addEventListener\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"click\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"event\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"冒泡\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"},\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-344670\"},\"children\":[{\"type\":\"text\",\"value\":\"false\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"node\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"addEventListener\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"click\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"event\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"捕获 \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"},\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-344670\"},\"children\":[{\"type\":\"text\",\"value\":\"true\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"注册事件\"},\"children\":[{\"type\":\"text\",\"value\":\"注册事件\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通常我们使用 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"addEventListener\"}]},{\"type\":\"text\",\"value\":\" 注册事件，该函数的第三个参数可以是布尔值，也可以是对象。对于布尔值 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"useCapture\"}]},{\"type\":\"text\",\"value\":\" 参数来说，该参数默认值为 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"false\"}]},{\"type\":\"text\",\"value\":\" 。\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"useCapture\"}]},{\"type\":\"text\",\"value\":\" 决定了注册的事件是捕获事件还是冒泡事件。对于对象参数来说，可以使用以下几个属性\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"capture\"}]},{\"type\":\"text\",\"value\":\"，布尔值，和 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"useCapture\"}]},{\"type\":\"text\",\"value\":\" 作用一样\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"once\"}]},{\"type\":\"text\",\"value\":\"，布尔值，值为 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"true\"}]},{\"type\":\"text\",\"value\":\" 表示该回调只会调用一次，调用后会移除监听\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"passive\"}]},{\"type\":\"text\",\"value\":\"，布尔值，表示永远不会调用 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"preventDefault\"}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"一般来说，我们只希望事件只触发在目标上，这时候可以使用 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"stopPropagation\"}]},{\"type\":\"text\",\"value\":\" 来阻止事件的进一步传播。通常我们认为 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"stopPropagation\"}]},{\"type\":\"text\",\"value\":\" 是用来阻止事件冒泡的，其实该函数也可以阻止捕获事件。\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"stopImmediatePropagation\"}]},{\"type\":\"text\",\"value\":\" 同样也能实现阻止事件，但是还能阻止该事件目标执行别的注册事件。\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-js\"],\"code\":\"node.addEventListener('click',(event) =>{\\n    event.stopImmediatePropagation()\\n    console.log('冒泡')\\n},false);\\n// 点击 node 只会执行上面的函数，该函数不会执行\\nnode.addEventListener('click',(event) => {\\n    console.log('捕获 ')\\n},true)\\n\",\"language\":\"js\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"node\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"addEventListener\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"click\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"event\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"event\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"stopImmediatePropagation\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"冒泡\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"},\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-344670\"},\"children\":[{\"type\":\"text\",\"value\":\"false\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 点击 node 只会执行上面的函数，该函数不会执行\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"node\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"addEventListener\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"click\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"event\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"捕获 \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"},\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-344670\"},\"children\":[{\"type\":\"text\",\"value\":\"true\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"事件代理\"},\"children\":[{\"type\":\"text\",\"value\":\"事件代理\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果一个节点中的子节点是动态生成的，那么子节点需要注册事件的话应该注册在父节点上\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-html\"],\"code\":\"<ul id=\\\"ul\\\">\\n    <li>1</li>\\n    <li>2</li>\\n    <li>3</li>\\n    <li>4</li>\\n    <li>5</li>\\n</ul>\\n<script>\\n    let ul = document.querySelector('#ul')\\n    ul.addEventListener('click', (event) => {\\n        console.log(event.target);\\n    })\\n</script>\\n\",\"language\":\"html\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"ul\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-683480\"},\"children\":[{\"type\":\"text\",\"value\":\"id\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"ul\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"li\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"1\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"li\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"li\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"2\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"li\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"li\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"3\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"li\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"li\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"4\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"li\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"li\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"5\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"li\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"ul\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"let\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"ul\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"document\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"querySelector\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"#ul\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"ul\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"addEventListener\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"click\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"event\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"event\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"target\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"})\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"事件代理的方式相对于直接给目标注册事件来说，有以下优点\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"节省内存\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"不需要给子节点注销事件\"}]}]},{\"type\":\"element\",\"tag\":\"h1\",\"props\":{\"id\":\"跨域\"},\"children\":[{\"type\":\"text\",\"value\":\"跨域\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"因为浏览器出于安全考虑，有同源策略。也就是说，如果协议、域名或者端口有一个不同就是跨域，Ajax 请求会失败。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们可以通过以下几种常用方法解决跨域的问题\"}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"jsonp\"},\"children\":[{\"type\":\"text\",\"value\":\"JSONP\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"JSONP 的原理很简单，就是利用 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<script>\"}]},{\"type\":\"text\",\"value\":\" 标签没有跨域限制的漏洞。通过 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<script>\"}]},{\"type\":\"text\",\"value\":\" 标签指向一个需要访问的地址并提供一个回调函数来接收数据当需要通讯时。\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-js\"],\"code\":\"<script src=\\\"http://domain/api?param1=a&param2=b&callback=jsonp\\\"></script>\\n<script>\\n    function jsonp(data) {\\n        console.log(data)\\n    }\\n</script>    \\n\",\"language\":\"js\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-683480\"},\"children\":[{\"type\":\"text\",\"value\":\"src\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"http://domain/api?param1=a&param2=b&callback=jsonp\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"></\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    function jsonp(data) \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"JSONP 使用简单且兼容性不错，但是只限于 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"get\"}]},{\"type\":\"text\",\"value\":\" 请求。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在开发中可能会遇到多个 JSONP 请求的回调函数名是相同的，这时候就需要自己封装一个 JSONP，以下是简单实现\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-js\"],\"code\":\"function jsonp(url, jsonpCallback, success) {\\n  let script = document.createElement(\\\"script\\\");\\n  script.src = url;\\n  script.async = true;\\n  script.type = \\\"text/javascript\\\";\\n  window[jsonpCallback] = function(data) {\\n    success && success(data);\\n  };\\n  document.body.appendChild(script);\\n}\\njsonp(\\n  \\\"http://xxx\\\",\\n  \\\"callback\\\",\\n  function(value) {\\n    console.log(value);\\n  }\\n);\\n\",\"language\":\"js\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"function\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"jsonp\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"url\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"jsonpCallback\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"success\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"let\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"document\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"createElement\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"src\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"url\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"async\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-344670\"},\"children\":[{\"type\":\"text\",\"value\":\"true\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"type\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"text/javascript\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"window\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"[\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"jsonpCallback\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"]\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"function\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"success\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-202223\"},\"children\":[{\"type\":\"text\",\"value\":\"&&\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"success\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"};\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"document\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"body\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"appendChild\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"jsonp\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"http://xxx\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"callback\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"function\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"value\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"value\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"cors\"},\"children\":[{\"type\":\"text\",\"value\":\"CORS\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"CORS需要浏览器和后端同时支持。IE 8 和 9 需要通过 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"XDomainRequest\"}]},{\"type\":\"text\",\"value\":\" 来实现。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"浏览器会自动进行 CORS 通信，实现CORS通信的关键是后端。只要后端实现了 CORS，就实现了跨域。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"服务端设置 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Access-Control-Allow-Origin\"}]},{\"type\":\"text\",\"value\":\" 就可以开启 CORS。 该属性表示哪些域名可以访问资源，如果设置通配符则表示所有网站都可以访问资源。\"}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"documentdomain\"},\"children\":[{\"type\":\"text\",\"value\":\"document.domain\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"该方式只能用于二级域名相同的情况下，比如 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"a.test.com\"}]},{\"type\":\"text\",\"value\":\" 和 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"b.test.com\"}]},{\"type\":\"text\",\"value\":\" 适用于该方式。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"只需要给页面添加 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"document.domain = 'test.com'\"}]},{\"type\":\"text\",\"value\":\" 表示二级域名都相同就可以实现跨域\"}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"postmessage\"},\"children\":[{\"type\":\"text\",\"value\":\"postMessage\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这种方式通常用于获取嵌入页面中的第三方页面数据。一个页面发送消息，另一个页面判断来源并接收消息\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-js\"],\"code\":\"// 发送消息端\\nwindow.parent.postMessage('message', 'http://test.com');\\n// 接收消息端\\nvar mc = new MessageChannel();\\nmc.addEventListener('message', (event) => {\\n    var origin = event.origin || event.originalEvent.origin; \\n    if (origin === 'http://test.com') {\\n        console.log('验证通过')\\n    }\\n});\\n\",\"language\":\"js\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 发送消息端\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"window\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"parent\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"postMessage\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"message\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"http://test.com\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 接收消息端\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"mc\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-202223\"},\"children\":[{\"type\":\"text\",\"value\":\"new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"MessageChannel\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"();\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"mc\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"addEventListener\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"message\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"event\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"origin\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"event\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"origin\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-202223\"},\"children\":[{\"type\":\"text\",\"value\":\"||\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"event\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"originalEvent\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"origin\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"origin\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-202223\"},\"children\":[{\"type\":\"text\",\"value\":\"===\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"http://test.com\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"验证通过\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"});\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h1\",\"props\":{\"id\":\"event-loop\"},\"children\":[{\"type\":\"text\",\"value\":\"Event loop\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"众所周知 JS 是门非阻塞单线程语言，因为在最初 JS 就是为了和浏览器交互而诞生的。如果 JS 是门多线程的语言话，我们在多个线程中处理 DOM 就可能会发生问题（一个线程中新加节点，另一个线程中删除节点），当然可以引入读写锁解决这个问题。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"JS 在执行的过程中会产生执行环境，这些执行环境会被顺序的加入到执行栈中。如果遇到异步的代码，会被挂起并加入到 Task（有多种 task） 队列中。一旦执行栈为空，Event Loop 就会从 Task 队列中拿出需要执行的代码并放入执行栈中执行，所以本质上来说 JS 中的异步还是同步行为。\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-js\"],\"code\":\"console.log('script start');\\n\\nsetTimeout(function() {\\n  console.log('setTimeout');\\n}, 0);\\n\\nconsole.log('script end');\\n\",\"language\":\"js\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"script start\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"function\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"},\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-098236\"},\"children\":[{\"type\":\"text\",\"value\":\"0\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"script end\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"以上代码虽然 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"text\",\"value\":\" 延时为 0，其实还是异步。这是因为 HTML5 标准规定这个函数第二个参数不得小于 4 毫秒，不足会自动增加。所以 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"text\",\"value\":\" 还是会在 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"script end\"}]},{\"type\":\"text\",\"value\":\" 之后打印。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"不同的任务源会被分配到不同的 Task 队列中，任务源可以分为 微任务（microtask） 和 宏任务（macrotask）。在 ES6 规范中，microtask 称为 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"jobs\"}]},{\"type\":\"text\",\"value\":\"，macrotask 称为 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"task\"}]},{\"type\":\"text\",\"value\":\"。\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-js\"],\"code\":\"console.log('script start');\\n\\nsetTimeout(function() {\\n  console.log('setTimeout');\\n}, 0);\\n\\nnew Promise((resolve) => {\\n    console.log('Promise')\\n    resolve()\\n}).then(function() {\\n  console.log('promise1');\\n}).then(function() {\\n  console.log('promise2');\\n});\\n\\nconsole.log('script end');\\n// script start => Promise => script end => promise1 => promise2 => setTimeout\\n\",\"language\":\"js\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"script start\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"function\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"},\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-098236\"},\"children\":[{\"type\":\"text\",\"value\":\"0\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-202223\"},\"children\":[{\"type\":\"text\",\"value\":\"new\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-257250\"},\"children\":[{\"type\":\"text\",\"value\":\"Promise\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"((\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"resolve\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"Promise\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"resolve\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"()\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"}).\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"then\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"function\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"promise1\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"}).\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"then\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"function\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"promise2\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"});\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"script end\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// script start => Promise => script end => promise1 => promise2 => setTimeout\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"以上代码虽然 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"text\",\"value\":\" 写在 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Promise\"}]},{\"type\":\"text\",\"value\":\" 之前，但是因为 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Promise\"}]},{\"type\":\"text\",\"value\":\" 属于微任务而 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"text\",\"value\":\" 属于宏任务，所以会有以上的打印。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"微任务包括 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"process.nextTick\"}]},{\"type\":\"text\",\"value\":\" ，\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"promise\"}]},{\"type\":\"text\",\"value\":\" ，\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Object.observe\"}]},{\"type\":\"text\",\"value\":\" ，\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"MutationObserver\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"宏任务包括 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"text\",\"value\":\" ， \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"text\",\"value\":\" ，\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"setInterval\"}]},{\"type\":\"text\",\"value\":\" ，\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"setImmediate\"}]},{\"type\":\"text\",\"value\":\" ，\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"I/O\"}]},{\"type\":\"text\",\"value\":\" ，\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"UI rendering\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"很多人有个误区，认为微任务快于宏任务，其实是错误的。因为宏任务中包括了 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"text\",\"value\":\" ，浏览器会先执行一个宏任务，接下来有异步代码的话就先执行微任务。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"所以正确的一次 Event loop 顺序是这样的\"}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"执行同步代码，这属于宏任务\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"执行栈为空，查询是否有微任务需要执行\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"执行所有微任务\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"必要的话渲染 UI\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"然后开始下一轮 Event loop，执行宏任务中的异步代码\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过上述的  Event loop 顺序可知，如果宏任务中的异步代码有大量的计算并且需要操作 DOM 的话，为了更快的 界面响应，我们可以把操作 DOM 放入微任务中。\"}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"node-中的-event-loop\"},\"children\":[{\"type\":\"text\",\"value\":\"Node 中的 Event loop\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Node 中的 Event loop 和浏览器中的不相同。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Node 的 Event loop 分为6个阶段，它们会按照顺序反复运行\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-undefined\"],\"code\":\"┌───────────────────────┐\\n┌─>│        timers         │\\n│  └──────────┬────────────┘\\n│  ┌──────────┴────────────┐\\n│  │     I/O callbacks     │\\n│  └──────────┬────────────┘\\n│  ┌──────────┴────────────┐\\n│  │     idle, prepare     │\\n│  └──────────┬────────────┘      ┌───────────────┐\\n│  ┌──────────┴────────────┐      │   incoming:   │\\n│  │         poll          │<──connections───     │\\n│  └──────────┬────────────┘      │   data, etc.  │\\n│  ┌──────────┴────────────┐      └───────────────┘\\n│  │        check          │\\n│  └──────────┬────────────┘\\n│  ┌──────────┴────────────┐\\n└──┤    close callbacks    │\\n   └───────────────────────┘\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"┌───────────────────────┐\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"┌─>│        timers         │\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"│  └──────────┬────────────┘\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"│  ┌──────────┴────────────┐\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"│  │     I/O callbacks     │\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"│  └──────────┬────────────┘\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"│  ┌──────────┴────────────┐\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"│  │     idle, prepare     │\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"│  └──────────┬────────────┘      ┌───────────────┐\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"│  ┌──────────┴────────────┐      │   incoming:   │\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"│  │         poll          │<──connections───     │\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"│  └──────────┬────────────┘      │   data, etc.  │\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"│  ┌──────────┴────────────┐      └───────────────┘\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"│  │        check          │\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"│  └──────────┬────────────┘\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"│  ┌──────────┴────────────┐\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"└──┤    close callbacks    │\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"   └───────────────────────┘\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"timer\"},\"children\":[{\"type\":\"text\",\"value\":\"timer\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"timers 阶段会执行 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"text\",\"value\":\" 和 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"setInterval\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"一个 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"timer\"}]},{\"type\":\"text\",\"value\":\" 指定的时间并不是准确时间，而是在达到这个时间后尽快执行回调，可能会因为系统正在执行别的事务而延迟。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"下限的时间有一个范围：\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"[1, 2147483647]\"}]},{\"type\":\"text\",\"value\":\" ，如果设定的时间不在这个范围，将被设置为1。\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"io\"},\"children\":[{\"type\":\"text\",\"value\":\"I/O\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"I/O 阶段会执行除了 close 事件，定时器和 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"setImmediate\"}]},{\"type\":\"text\",\"value\":\" 的回调\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"idle-prepare\"},\"children\":[{\"type\":\"text\",\"value\":\"idle, prepare\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"idle, prepare 阶段内部实现\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"poll\"},\"children\":[{\"type\":\"text\",\"value\":\"poll\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"poll 阶段很重要，这一阶段中，系统会做两件事情\"}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"执行到点的定时器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"执行 poll 队列中的事件\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"并且当 poll 中没有定时器的情况下，会发现以下两件事情\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果 poll 队列不为空，会遍历回调队列并同步执行，直到队列为空或者系统限制\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果 poll 队列为空，会有两件事发生\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果有 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"setImmediate\"}]},{\"type\":\"text\",\"value\":\" 需要执行，poll 阶段会停止并且进入到 check 阶段执行 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"setImmediate\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果没有 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"setImmediate\"}]},{\"type\":\"text\",\"value\":\" 需要执行，会等待回调被加入到队列中并立即执行回调\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果有别的定时器需要被执行，会回到 timer 阶段执行回调。\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"check\"},\"children\":[{\"type\":\"text\",\"value\":\"check\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"check 阶段执行 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"setImmediate\"}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"close-callbacks\"},\"children\":[{\"type\":\"text\",\"value\":\"close callbacks\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"close callbacks 阶段执行 close 事件\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"并且在 Node 中，有些情况下的定时器执行顺序是随机的\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-js\"],\"code\":\"setTimeout(() => {\\n    console.log('setTimeout');\\n}, 0);\\nsetImmediate(() => {\\n    console.log('setImmediate');\\n})\\n// 这里可能会输出 setTimeout，setImmediate\\n// 可能也会相反的输出，这取决于性能\\n// 因为可能进入 event loop 用了不到 1 毫秒，这时候会执行 setImmediate\\n// 否则会执行 setTimeout\\n\",\"language\":\"js\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"},\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-098236\"},\"children\":[{\"type\":\"text\",\"value\":\"0\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"setImmediate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"setImmediate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"})\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 这里可能会输出 setTimeout，setImmediate\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 可能也会相反的输出，这取决于性能\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 因为可能进入 event loop 用了不到 1 毫秒，这时候会执行 setImmediate\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 否则会执行 setTimeout\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当然在这种情况下，执行顺序是相同的\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-js\"],\"code\":\"var fs = require('fs')\\n\\nfs.readFile(__filename, () => {\\n    setTimeout(() => {\\n        console.log('timeout');\\n    }, 0);\\n    setImmediate(() => {\\n        console.log('immediate');\\n    });\\n});\\n// 因为 readFile 的回调在 poll 中执行\\n// 发现有 setImmediate ，所以会立即跳到 check 阶段执行回调\\n// 再去 timer 阶段执行 setTimeout\\n// 所以以上输出一定是 setImmediate，setTimeout\\n\",\"language\":\"js\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"var\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"fs\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"require\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"fs\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"fs\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"readFile\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"__filename\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"timeout\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"},\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-098236\"},\"children\":[{\"type\":\"text\",\"value\":\"0\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"setImmediate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"immediate\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"});\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"});\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 因为 readFile 的回调在 poll 中执行\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 发现有 setImmediate ，所以会立即跳到 check 阶段执行回调\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 再去 timer 阶段执行 setTimeout\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 所以以上输出一定是 setImmediate，setTimeout\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上面介绍的都是 macrotask 的执行情况，microtask 会在以上每个阶段完成后立即执行。\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-js\"],\"code\":\"setTimeout(()=>{\\n    console.log('timer1')\\n\\n    Promise.resolve().then(function() {\\n        console.log('promise1')\\n    })\\n}, 0)\\n\\nsetTimeout(()=>{\\n    console.log('timer2')\\n\\n    Promise.resolve().then(function() {\\n        console.log('promise2')\\n    })\\n}, 0)\\n\\n// 以上代码在浏览器和 node 中打印情况是不同的\\n// 浏览器中一定打印 timer1, promise1, timer2, promise2\\n// node 中可能打印 timer1, timer2, promise1, promise2\\n// 也可能打印 timer1, promise1, timer2, promise2\\n\",\"language\":\"js\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"timer1\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-257250\"},\"children\":[{\"type\":\"text\",\"value\":\"Promise\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"resolve\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"().\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"then\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"function\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"promise1\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"})\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"},\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-098236\"},\"children\":[{\"type\":\"text\",\"value\":\"0\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"timer2\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-257250\"},\"children\":[{\"type\":\"text\",\"value\":\"Promise\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"resolve\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"().\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"then\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"function\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"promise2\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"})\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"},\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-098236\"},\"children\":[{\"type\":\"text\",\"value\":\"0\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 以上代码在浏览器和 node 中打印情况是不同的\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 浏览器中一定打印 timer1, promise1, timer2, promise2\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// node 中可能打印 timer1, timer2, promise1, promise2\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 也可能打印 timer1, promise1, timer2, promise2\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Node 中的 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"process.nextTick\"}]},{\"type\":\"text\",\"value\":\" 会先于其他 microtask 执行。\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-js\"],\"code\":\"setTimeout(() => {\\n console.log(\\\"timer1\\\");\\n\\n Promise.resolve().then(function() {\\n   console.log(\\\"promise1\\\");\\n });\\n}, 0);\\n\\nprocess.nextTick(() => {\\n console.log(\\\"nextTick\\\");\\n});\\n// nextTick, timer1, promise1\\n\",\"language\":\"js\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"timer1\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-257250\"},\"children\":[{\"type\":\"text\",\"value\":\"Promise\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"resolve\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"().\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"then\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"function\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"   \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"promise1\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"});\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"},\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-098236\"},\"children\":[{\"type\":\"text\",\"value\":\"0\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"process\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"nextTick\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"nextTick\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"});\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// nextTick, timer1, promise1\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h1\",\"props\":{\"id\":\"存储\"},\"children\":[{\"type\":\"text\",\"value\":\"存储\"}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"cookielocalstoragesessionstorageindexdb\"},\"children\":[{\"type\":\"text\",\"value\":\"cookie，localStorage，sessionStorage，indexDB\"}]},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"特性\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"cookie\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"localStorage\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"sessionStorage\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"indexDB\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"数据生命周期\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"一般由服务器生成，可以设置过期时间\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"除非被清理，否则一直存在\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"页面关闭就清理\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"除非被清理，否则一直存在\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"数据存储大小\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"4K\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"5M\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"5M\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"无限\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"与服务端通信\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"每次都会携带在 header 中，对于请求性能影响\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"不参与\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"不参与\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"不参与\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"从上表可以看到，\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"cookie\"}]},{\"type\":\"text\",\"value\":\" 已经不建议用于存储。如果没有大量数据存储需求的话，可以使用 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"localStorage\"}]},{\"type\":\"text\",\"value\":\" 和 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"sessionStorage\"}]},{\"type\":\"text\",\"value\":\" 。对于不怎么改变的数据尽量使用 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"localStorage\"}]},{\"type\":\"text\",\"value\":\" 存储，否则可以用 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"sessionStorage\"}]},{\"type\":\"text\",\"value\":\" 存储。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"cookie\"}]},{\"type\":\"text\",\"value\":\"，我们还需要注意安全性。\"}]},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"属性\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"作用\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"value\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"如果用于保存用户登录态，应该将该值加密，不能使用明文的用户标识\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"http-only\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"不能通过 JS 访问 Cookie，减少 XSS 攻击\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"secure\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"只能在协议为 HTTPS 的请求中携带\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"same-site\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"center\"},\"children\":[{\"type\":\"text\",\"value\":\"规定浏览器不能在跨域请求中携带 Cookie，减少 CSRF 攻击\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"service-worker\"},\"children\":[{\"type\":\"text\",\"value\":\"Service Worker\"}]},{\"type\":\"element\",\"tag\":\"blockquote\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Service workers 本质上充当Web应用程序与浏览器之间的代理服务器，也可以在网络可用时作为浏览器和网络间的代理。它们旨在（除其他之外）使得能够创建有效的离线体验，拦截网络请求并基于网络是否可用以及更新的资源是否驻留在服务器上来采取适当的动作。他们还允许访问推送通知和后台同步API。\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"目前该技术通常用来做缓存文件，提高首屏速度，可以试着来实现这个功能。\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-js\"],\"code\":\"// index.js\\nif (navigator.serviceWorker) {\\n  navigator.serviceWorker\\n    .register(\\\"sw.js\\\")\\n    .then(function(registration) {\\n      console.log(\\\"service worker 注册成功\\\");\\n    })\\n    .catch(function(err) {\\n      console.log(\\\"servcie worker 注册失败\\\");\\n    });\\n}\\n// sw.js\\n// 监听 `install` 事件，回调中缓存所需文件\\nself.addEventListener(\\\"install\\\", e => {\\n  e.waitUntil(\\n    caches.open(\\\"my-cache\\\").then(function(cache) {\\n      return cache.addAll([\\\"./index.html\\\", \\\"./index.js\\\"]);\\n    })\\n  );\\n});\\n\\n// 拦截所有请求事件\\n// 如果缓存中已经有请求的数据就直接用缓存，否则去请求数据\\nself.addEventListener(\\\"fetch\\\", e => {\\n  e.respondWith(\\n    caches.match(e.request).then(function(response) {\\n      if (response) {\\n        return response;\\n      }\\n      console.log(\\\"fetch source\\\");\\n    })\\n  );\\n});\\n\",\"language\":\"js\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// index.js\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"navigator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"serviceWorker\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"navigator\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"serviceWorker\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"register\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"sw.js\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"then\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"function\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"registration\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"      \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"service worker 注册成功\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"})\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"catch\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"function\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"err\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"      \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"servcie worker 注册失败\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"});\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// sw.js\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 监听 `install` 事件，回调中缓存所需文件\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"addEventListener\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"install\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"e\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"e\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"waitUntil\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"caches\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"open\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"my-cache\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\").\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"then\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"function\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"cache\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":17},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"      \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"cache\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"addAll\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"([\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"./index.html\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"./index.js\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"]);\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":18},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"})\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":19},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":20},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"});\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":21},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":22},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 拦截所有请求事件\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":23},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 如果缓存中已经有请求的数据就直接用缓存，否则去请求数据\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":24},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"self\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"addEventListener\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"fetch\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"e\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":25},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"e\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"respondWith\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":26},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"caches\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"match\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"e\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"request\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\").\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"then\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"function\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-741517\"},\"children\":[{\"type\":\"text\",\"value\":\"response\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":27},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"      \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"if\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"response\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":28},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"return\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"response\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":29},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"      \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":30},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"      \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"fetch source\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":31},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"})\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":32},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\");\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":33},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"});\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"打开页面，可以在开发者工具中的 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Application\"}]},{\"type\":\"text\",\"value\":\" 看到 Service Worker 已经启动了\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042724.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在 Cache 中也可以发现我们所需的文件已被缓存\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042727.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当我们重新刷新页面可以发现我们缓存的数据是从 Service Worker 中读取的\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042730.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"h1\",\"props\":{\"id\":\"渲染机制\"},\"children\":[{\"type\":\"text\",\"value\":\"渲染机制\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"浏览器的渲染机制一般分为以下几个步骤\"}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"处理 HTML 并构建 DOM 树。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"处理 CSS 构建 CSSOM 树。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将 DOM 与 CSSOM 合并成一个渲染树。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"根据渲染树来布局，计算每个节点的位置。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"调用 GPU 绘制，合成图层，显示在屏幕上。\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042733.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在构建 CSSOM 树时，会阻塞渲染，直至 CSSOM 树构建完成。并且构建 CSSOM 树是一个十分消耗性能的过程，所以应该尽量保证层级扁平，减少过度层叠，越是具体的 CSS 选择器，执行速度越慢。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当 HTML 解析到 script 标签时，会暂停构建 DOM，完成后才会从暂停的地方重新开始。也就是说，如果你想首屏渲染的越快，就越不应该在首屏就加载 JS 文件。并且 CSS 也会影响 JS 的执行，只有当解析完样式表才会执行 JS，所以也可以认为这种情况下，CSS 也会暂停构建 DOM。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042734.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042735.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"load-和-domcontentloaded-区别\"},\"children\":[{\"type\":\"text\",\"value\":\"Load 和 DOMContentLoaded 区别\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Load 事件触发代表页面中的 DOM，CSS，JS，图片已经全部加载完毕。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"DOMContentLoaded 事件触发代表初始的 HTML 被完全加载和解析，不需要等待 CSS，JS，图片加载。\"}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"图层\"},\"children\":[{\"type\":\"text\",\"value\":\"图层\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"一般来说，可以把普通文档流看成一个图层。特定的属性可以生成一个新的图层。\"},{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"不同的图层渲染互不影响\"}]},{\"type\":\"text\",\"value\":\"，所以对于某些频繁需要渲染的建议单独生成一个新图层，提高性能。\"},{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"但也不能生成过多的图层，会引起反作用。\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过以下几个常用属性可以生成新图层\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"3D 变换：\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"translate3d\"}]},{\"type\":\"text\",\"value\":\"、\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"translateZ\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"will-change\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"video\"}]},{\"type\":\"text\",\"value\":\"、\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"iframe\"}]},{\"type\":\"text\",\"value\":\" 标签\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过动画实现的 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"opacity\"}]},{\"type\":\"text\",\"value\":\" 动画转换\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"position: fixed\"}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"重绘repaint和回流reflow\"},\"children\":[{\"type\":\"text\",\"value\":\"重绘（Repaint）和回流（Reflow）\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重绘和回流是渲染步骤中的一小节，但是这两个步骤对于性能影响很大。\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重绘是当节点需要更改外观而不会影响布局的，比如改变 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"color\"}]},{\"type\":\"text\",\"value\":\" 就叫称为重绘\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"回流是布局或者几何属性需要改变就称为回流。\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"回流必定会发生重绘，重绘不一定会引发回流。回流所需的成本比重绘高的多，改变深层次的节点很可能导致父节点的一系列回流。\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"所以以下几个动作可能会导致性能问题：\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"改变 window 大小\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"改变字体\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"添加或删除样式\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"文字改变\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定位或者浮动\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"盒模型\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"很多人不知道的是，重绘和回流其实和 Event loop 有关。\"}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当 Event loop 执行完 Microtasks 后，会判断 document 是否需要更新。因为浏览器是 60Hz 的刷新率，每 16ms 才会更新一次。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"然后判断是否有 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"resize\"}]},{\"type\":\"text\",\"value\":\" 或者 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"scroll\"}]},{\"type\":\"text\",\"value\":\" ，有的话会去触发事件，所以 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"resize\"}]},{\"type\":\"text\",\"value\":\" 和 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"scroll\"}]},{\"type\":\"text\",\"value\":\" 事件也是至少 16ms 才会触发一次，并且自带节流功能。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"判断是否触发了 media query\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"更新动画并且发送事件\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"判断是否有全屏操作事件\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"执行 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"requestAnimationFrame\"}]},{\"type\":\"text\",\"value\":\" 回调\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"执行 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"IntersectionObserver\"}]},{\"type\":\"text\",\"value\":\" 回调，该方法用于判断元素是否可见，可以用于懒加载上，但是兼容性不好\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"更新界面\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"以上就是一帧中可能会做的事情。如果在一帧中有空闲时间，就会去执行 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"requestIdleCallback\"}]},{\"type\":\"text\",\"value\":\" 回调。\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"以上内容来自于 \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://html.spec.whatwg.org/multipage/webappapis.html#event-loop-processing-model\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"HTML 文档\"}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"减少重绘和回流\"},\"children\":[{\"type\":\"text\",\"value\":\"减少重绘和回流\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"translate\"}]},{\"type\":\"text\",\"value\":\" 替代 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"top\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-html\"],\"code\":\"<div class=\\\"test\\\"></div>\\n<style>\\n    .test {\\n        position: absolute;\\n        top: 10px;\\n        width: 100px;\\n        height: 100px;\\n        background: red;\\n    }\\n</style>\\n<script>\\n    setTimeout(() => {\\n        // 引起回流\\n        document.querySelector('.test').style.top = '100px'\\n    }, 1000)\\n</script>\\n\",\"language\":\"html\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"div\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-683480\"},\"children\":[{\"type\":\"text\",\"value\":\"class\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"test\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"></\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"div\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"style\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-945746\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-683480\"},\"children\":[{\"type\":\"text\",\"value\":\"test\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-257250\"},\"children\":[{\"type\":\"text\",\"value\":\"position\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-710096\"},\"children\":[{\"type\":\"text\",\"value\":\"absolute\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":5},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-257250\"},\"children\":[{\"type\":\"text\",\"value\":\"top\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-098236\"},\"children\":[{\"type\":\"text\",\"value\":\"10\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-202223\"},\"children\":[{\"type\":\"text\",\"value\":\"px\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":6},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-257250\"},\"children\":[{\"type\":\"text\",\"value\":\"width\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-098236\"},\"children\":[{\"type\":\"text\",\"value\":\"100\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-202223\"},\"children\":[{\"type\":\"text\",\"value\":\"px\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":7},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-257250\"},\"children\":[{\"type\":\"text\",\"value\":\"height\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-098236\"},\"children\":[{\"type\":\"text\",\"value\":\"100\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-202223\"},\"children\":[{\"type\":\"text\",\"value\":\"px\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":8},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-257250\"},\"children\":[{\"type\":\"text\",\"value\":\"background\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-710096\"},\"children\":[{\"type\":\"text\",\"value\":\"red\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\";\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":9},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"}\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":10},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"style\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":11},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":12},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"setTimeout\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(()\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-356846\"},\"children\":[{\"type\":\"text\",\"value\":\"=>\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":13},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 引起回流\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":14},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"        \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"document\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"querySelector\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\".test\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\").\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"style\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"top\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\"100px\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":15},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"},\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-098236\"},\"children\":[{\"type\":\"text\",\"value\":\"1000\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":16},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"</\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"script\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\">\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"visibility\"}]},{\"type\":\"text\",\"value\":\" 替换 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"display: none\"}]},{\"type\":\"text\",\"value\":\" ，因为前者只会引起重绘，后者会引发回流（改变了布局）\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"把 DOM 离线后修改，比如：先把 DOM 给 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"display:none\"}]},{\"type\":\"text\",\"value\":\" (有一次 Reflow)，然后你修改100次，然后再把它显示出来\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"不要把 DOM 结点的属性值放在一个循环里当成循环里的变量\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"className\":[\"language-js\"],\"code\":\"for(let i = 0; i < 1000; i++) {\\n    // 获取 offsetTop 会导致回流，因为需要去获取正确的值\\n    console.log(document.querySelector('.test').style.offsetTop)\\n}\\n\",\"language\":\"js\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":1},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-938761\"},\"children\":[{\"type\":\"text\",\"value\":\"for\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-884588\"},\"children\":[{\"type\":\"text\",\"value\":\"let\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"i\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-098236\"},\"children\":[{\"type\":\"text\",\"value\":\"0\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"i\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-960789\"},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-098236\"},\"children\":[{\"type\":\"text\",\"value\":\"1000\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"i\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-202223\"},\"children\":[{\"type\":\"text\",\"value\":\"++\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":2},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-396545\"},\"children\":[{\"type\":\"text\",\"value\":\"// 获取 offsetTop 会导致回流，因为需要去获取正确的值\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":3},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-691885\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"console\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"log\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"document\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-940853\"},\"children\":[{\"type\":\"text\",\"value\":\"querySelector\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-213557\"},\"children\":[{\"type\":\"text\",\"value\":\".test\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-929333\"},\"children\":[{\"type\":\"text\",\"value\":\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\").\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"style\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-753171\"},\"children\":[{\"type\":\"text\",\"value\":\"offsetTop\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\")\\n\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\",\"line\":4},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-876055\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"不要使用 table 布局，可能很小的一个小改动会造成整个 table 的重新布局\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"动画实现的速度的选择，动画速度越快，回流次数越多，也可以选择使用 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"requestAnimationFrame\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"CSS 选择符从右往左匹配查找，避免 DOM 深度过深\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将频繁运行的动画变为图层，图层能够阻止该节点回流影响别的元素。比如对于 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"video\"}]},{\"type\":\"text\",\"value\":\" 标签，浏览器会自动将该节点变为图层。\"},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"https://yck-1254263422.cos.ap-shanghai.myqcloud.com/blog/2019-06-01-042737.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"style\",\"children\":[{\"type\":\"text\",\"value\":\".ct-396545{color:#A0ADA0;}\\n.dark .ct-396545{color:#758575DD;}\\n.sepia .ct-396545{color:#88846F;}\\n.ct-753171{color:#B07D48;}\\n.dark .ct-753171{color:#BD976A;}\\n.sepia .ct-753171{color:#F8F8F2;}\\n.ct-876055{color:#999999;}\\n.dark .ct-876055{color:#666666;}\\n.sepia .ct-876055{color:#F8F8F2;}\\n.ct-940853{color:#59873A;}\\n.dark .ct-940853{color:#80A665;}\\n.sepia .ct-940853{color:#A6E22E;}\\n.ct-929333{color:#B5695999;}\\n.dark .ct-929333{color:#C98A7D99;}\\n.sepia .ct-929333{color:#E6DB74;}\\n.ct-213557{color:#B56959;}\\n.dark .ct-213557{color:#C98A7D;}\\n.sepia .ct-213557{color:#E6DB74;}\\n.ct-741517{color:#B07D48;}\\n.dark .ct-741517{color:#BD976A;}\\n.sepia .ct-741517{color:#FD971F;font-style:italic;}\\n.ct-691885{color:#393A34;}\\n.dark .ct-691885{color:#DBD7CAEE;}\\n.sepia .ct-691885{color:#F8F8F2;}\\n.ct-356846{color:#999999;}\\n.dark .ct-356846{color:#666666;}\\n.sepia .ct-356846{color:#66D9EF;font-style:italic;}\\n.ct-344670{color:#1E754F;}\\n.dark .ct-344670{color:#4D9375;}\\n.sepia .ct-344670{color:#AE81FF;}\\n.ct-938761{color:#1E754F;}\\n.dark .ct-938761{color:#4D9375;}\\n.sepia .ct-938761{color:#F92672;}\\n.ct-683480{color:#B07D48;}\\n.dark .ct-683480{color:#BD976A;}\\n.sepia .ct-683480{color:#A6E22E;}\\n.ct-884588{color:#AB5959;}\\n.dark .ct-884588{color:#CB7676;}\\n.sepia .ct-884588{color:#66D9EF;font-style:italic;}\\n.ct-960789{color:#999999;}\\n.dark .ct-960789{color:#666666;}\\n.sepia .ct-960789{color:#F92672;}\\n.ct-202223{color:#AB5959;}\\n.dark .ct-202223{color:#CB7676;}\\n.sepia .ct-202223{color:#F92672;}\\n.ct-098236{color:#2F798A;}\\n.dark .ct-098236{color:#4C9A91;}\\n.sepia .ct-098236{color:#AE81FF;}\\n.ct-257250{color:#998418;}\\n.dark .ct-257250{color:#B8A965;}\\n.sepia .ct-257250{color:#66D9EF;font-style:italic;}\\n.ct-945746{color:#999999;}\\n.dark .ct-945746{color:#666666;}\\n.sepia .ct-945746{color:#A6E22E;}\\n.ct-710096{color:#A65E2B;}\\n.dark .ct-710096{color:#C99076;}\\n.sepia .ct-710096{color:#66D9EF;}\"}]}],\"toc\":{\"title\":\"\",\"searchDepth\":2,\"depth\":2,\"links\":[{\"id\":\"事件触发三阶段\",\"depth\":2,\"text\":\"事件触发三阶段\"},{\"id\":\"注册事件\",\"depth\":2,\"text\":\"注册事件\"},{\"id\":\"事件代理\",\"depth\":2,\"text\":\"事件代理\"},{\"id\":\"jsonp\",\"depth\":2,\"text\":\"JSONP\"},{\"id\":\"cors\",\"depth\":2,\"text\":\"CORS\"},{\"id\":\"documentdomain\",\"depth\":2,\"text\":\"document.domain\"},{\"id\":\"postmessage\",\"depth\":2,\"text\":\"postMessage\"},{\"id\":\"node-中的-event-loop\",\"depth\":2,\"text\":\"Node 中的 Event loop\",\"children\":[{\"id\":\"timer\",\"depth\":3,\"text\":\"timer\"},{\"id\":\"io\",\"depth\":3,\"text\":\"I/O\"},{\"id\":\"idle-prepare\",\"depth\":3,\"text\":\"idle, prepare\"},{\"id\":\"poll\",\"depth\":3,\"text\":\"poll\"},{\"id\":\"check\",\"depth\":3,\"text\":\"check\"},{\"id\":\"close-callbacks\",\"depth\":3,\"text\":\"close callbacks\"}]},{\"id\":\"cookielocalstoragesessionstorageindexdb\",\"depth\":2,\"text\":\"cookie，localStorage，sessionStorage，indexDB\"},{\"id\":\"service-worker\",\"depth\":2,\"text\":\"Service Worker\"},{\"id\":\"load-和-domcontentloaded-区别\",\"depth\":2,\"text\":\"Load 和 DOMContentLoaded 区别\"},{\"id\":\"图层\",\"depth\":2,\"text\":\"图层\"},{\"id\":\"重绘repaint和回流reflow\",\"depth\":2,\"text\":\"重绘（Repaint）和回流（Reflow）\"},{\"id\":\"减少重绘和回流\",\"depth\":2,\"text\":\"减少重绘和回流\"}]}},\"_type\":\"markdown\",\"_id\":\"content:blog:4.Browser浏览器.md\",\"_source\":\"content\",\"_file\":\"blog/4.Browser浏览器.md\",\"_extension\":\"md\"},\"hash\":\"gHzxOckxiL\"}";

export { _4_Browser___ as default };
//# sourceMappingURL=4.Browser浏览器.mjs.map
